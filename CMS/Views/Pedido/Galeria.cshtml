@model IEnumerable<business.business.Pagina>

@{
    ViewBag.Title = "Galeria";
}

<h2>Galeria</h2>
<h4>Lista @ViewBag.pagina</h4>
<a asp-action="CreatePagina" asp-controller="Pedido" class="btn btn-primary">Criar nova pagina</a>
<a asp-action="CreatePagina" asp-controller="Home" class="btn btn-success">Criar nova pagina com layout</a>


<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Titulo)
        </th>
        <th>
            @Html.DisplayName("Story")
        </th>
        <th>
            @Html.DisplayName("Preview dinâmico")
        </th>
        <th>
            @Html.DisplayName("Remover conteudo")
        </th>


    </tr>

    @foreach (var item in Model)
    {
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.Titulo)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Story.Nome)
            </td>

            <td>

                <a href="/Editar/@item.Id" target="_blank" class="btn btn-warning">Mostrar pagina</a>
            </td>

            <td>

                <a asp-action="Delete" asp-controller="Pagina" asp-route-id="@item.Id"  class="btn btn-danger">Remover conteúdo</a>
            </td>


        </tr>
    }

</table>
<label>Lista:</label>
<input type="number" id="numeroAcesso" value="@ViewBag.pagina" min="1" />

@section scripts{


<script type="text/javascript">
    $(document).ready(function () {

        $("#numeroAcesso").change(function () {
            window.location.href = "/Galeria/" + $(this).val();
        });

});
</script>

}
